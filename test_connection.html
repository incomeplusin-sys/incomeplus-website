<!DOCTYPE html>
<html>
<body>
    <h2>Backend Connection Test</h2>
    
    <button onclick="testConnection()">Test Connection</button>
    <div id="result" style="margin-top:20px; padding:20px; background:#f0f0f0; border-radius:10px;"></div>
    
    <script>
    async function testConnection() {
        const resultDiv = document.getElementById('result');
        resultDiv.innerHTML = '<p style="color:blue;">Testing connection...</p>';
        
        const tests = [
            { url: 'http://localhost:3001/', method: 'GET', name: 'Home' },
            { url: 'http://localhost:3001/health', method: 'GET', name: 'Health' },
            { url: 'http://localhost:3001/api/auth/register', method: 'OPTIONS', name: 'Auth Register' }
        ];
        
        let results = [];
        
        for (const test of tests) {
            try {
                const response = await fetch(test.url, {
                    method: test.method,
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                
                let data;
                try {
                    data = await response.json();
                } catch {
                    data = { status: response.status, statusText: response.statusText };
                }
                
                results.push(`✅ ${test.name}: ${response.status} ${response.statusText}`);
                console.log(`✅ ${test.name}:`, data);
                
            } catch (error) {
                results.push(`❌ ${test.name}: ${error.message}`);
            }
        }
        
        resultDiv.innerHTML = `
            <h3>Connection Test Results:</h3>
            <pre style="background:white; padding:15px; border-radius:5px;">${results.join('\n')}</pre>
        `;
    }
    
    // Auto-test on load
    window.onload = testConnection;
    </script>
</body>
</html>
